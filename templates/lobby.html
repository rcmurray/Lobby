<html>
  <head>
<!-- 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="./colors.js" type="text/javascript"></script>
    <script src="./client.js" type="text/javascript"></script>
    <link property='stylesheet' href='https://fonts.googleapis.com/css?family=Oxygen' rel='stylesheet' id='oxygen' type='text/css' />
    <link rel="stylesheet" href="./style.css" type="text/css"/>
 -->
    <title>Matchmaker Lobby</title>
  </head>
  <body>
    <div id="app">
      <div id="connect">
      	<h2>The Lobby</h2>
 		<form action="#">          
			<fieldset>
				<p>Welcome to the lobby. We're matching you with partners for the activity.</p>
				<p>As soon as you are matched, we'll send you a link so you can start.</p>
                <br/>
                <button id="startButton">Enter the Lobby</button>
                <br/>
                <br/>
                <div id="status"></div>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.2/socket.io.js"></script>
                <script type="text/javascript">
                    const statusContainer = document.getElementById('status');

                    var socket = io.connect();

                    document.getElementById('startButton').addEventListener('click', addText);

                    socket.on('task_completed', function(data) {
                        console.log("socket.on(task_completed): " + data.message)
                        document.getElementById('status').innerHTML = data.message;
                    });

                    function addText() {
                        socket.emit('start_task', "Rob200");
                        document.getElementById('status').innerHTML = 'Task in progress...';
                      }
                </script>
	            <br/>
			</fieldset>
		</form>
      </div>
    </div>
  </body>
</html>
