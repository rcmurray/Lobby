<html>
  <head>
<!-- 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="./colors.js" type="text/javascript"></script>
    <script src="./client.js" type="text/javascript"></script>
    <link property='stylesheet' href='https://fonts.googleapis.com/css?family=Oxygen' rel='stylesheet' id='oxygen' type='text/css' />
    <link rel="stylesheet" href="./style.css" type="text/css"/>
 -->
    <title>Matchmaker Lobby</title>
  </head>
  <body>
    <div id="app">
      <div id="connect">
      	<h2>The Lobby</h2>
 		<form action="#">          
			<fieldset>
				<p>Welcome to the lobby. We're matching you with partners for the activity.</p>
				<p>As soon as you are matched, we'll send you a link so you can start.</p>
                <br/>
                <br/>
                <div id="status"></div>
<!--                <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.2/socket.io.js"></script>-->
                <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.3.1/socket.io.js"></script>

                <script>
                    const socket = io.connect('http://' + document.domain + ':' + location.port);

                    socket.on('connect', () => {
                        console.log('Connected to server');
                        // Send user data to the server when connected
                        socket.emit('user_connect', "{{ userID }}");
                    });

                    socket.on('response_event', function(data) {
                        // Update the content of the 'status' element with the received data
                        console.log('response_event received with data: ' + data);
                    });

                    socket.on('update_event', function(data) {
                        // Update the content of the 'status' element with the received data
                        console.log('update_event, received: ' + data);
                        document.getElementById('status').innerHTML = data.message;
                    });
                </script>

	            <br/>
			</fieldset>
		</form>
      </div>
    </div>
  </body>
</html>
